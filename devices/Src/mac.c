/*
 * mac.c
 *
 *  Created on: 4 февр. 2022 г.
 *      Author: 79110
 */
/*--------------------------------- Includes ---------------------------------*/
#include "mac.h"
/*-------------------------------- Structures --------------------------------*/
/*--------------------------------- Constant ---------------------------------*/
/*-------------------------------- Variables ---------------------------------*/
static uint8_t mac48[MAC_EUI48_LENGTH] = { 0U };
static uint8_t mac64[MAC_EUI64_LENGTH] = { 0U };
/*--------------------------------- Macros -----------------------------------*/
/*-------------------------------- Functions ---------------------------------*/



/*----------------------------------------------------------------------------*/
/*----------------------- PRIVATE --------------------------------------------*/
/*----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------*/
/*----------------------- PABLICK --------------------------------------------*/
/*----------------------------------------------------------------------------*/
void vMACinit ( const EEPROM_TYPE* eeprom )
{
  if ( eEEPROMInit( eeprom ) == EEPROM_OK )
  {
    if ( eEEPROMreadMemory( eeprom, MAC_ADR, mac48, MAC_EUI48_LENGTH ) == EEPROM_OK )
    {
      mac64[0U] = mac48[0U];
      mac64[1U] = mac48[1U];
      mac64[2U] = mac48[2U];
      mac64[3U] = MAC_EUI64_ADD3;
      mac64[4U] = MAC_EUI64_ADD4;
      mac64[5U] = mac48[3U];
      mac64[6U] = mac48[4U];
      mac64[7U] = mac48[5U];
    }
  }
  return;
}
uint8_t* vMACget48 ( void )
{
  return mac48;
}
uint8_t* vMACget64 ( void )
{
  return mac64;
}
/*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*/
/*----------------------------------------------------------------------------*/
